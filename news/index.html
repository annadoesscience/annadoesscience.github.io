---
layout: default
permalink: /news/
title: news
description: My Mastodon feed.
nav: false
---

<header class="post-header">
<h1 class="post-title">news</h1>
<p class="post-description">My Mastodon feed. Get the RSS file <u><a href="https://fediscience.org/@anna.rss">here</a></u>. </p>
</header>

<hr style="clear:both; color:grey;">

<!DOCTYPE html>
<html>
<head>
  <title>RSS Feed</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    .published-date {
      color: gray;
    }
    .post-separator {
      border-top: 1px solid #ccc;
      margin-top: 20px;
      padding-top: 20px;
    }
  </style>
</head>
<body>
  <div id="rss-feed"></div>

  <script>
    $(document).ready(function() {
      var rssUrl = "https://fediscience.org/@anna.rss";
      var numOfPosts = 10;

      $.ajax(rssUrl, {
        accepts: {
          xml: "application/rss+xml"
        },
        dataType: "xml",
        success: function(data) {
          var feedItems = [];
          $(data)
            .find("item")
            .slice(0, numOfPosts)
            .each(function(index) {
              var item = $(this);
              var title = item.find("title").text();
              var link = item.find("link").text();
              var pubDate = new Date(item.find("pubDate").text());
              var description = item.find("description").text();
              var mediaUrl = item.find("media\\:content").attr("url"); // Extract media URL

              // Format the date and time in European format with dots
              var options = { day: "numeric", month: "numeric", year: "numeric", hour: "numeric", minute: "numeric" };
              var formattedDate = pubDate.toLocaleString("en-GB", options).replace(/\//g, '.');

              var feedItem = "<div";

              // Conditionally apply the post-separator class
              if (index > 0) {
                feedItem += " class='post-separator'";
              }

              feedItem += ">" +
                "<h3><a href='" + link + "'>" + title + "</a></h3>";

              // Add media if available
              if (mediaUrl) {
                feedItem += "<img src='" + mediaUrl + "' alt='Post Image'>";
              }

              feedItem += "<p>" + description + "</p>" +
                "<p class='published-date'>Published: " + formattedDate + "</p>" +
                "</div>";

              feedItems.push(feedItem);
            });

          $("#rss-feed").html(feedItems.join(""));
        }
      });
    });
  </script>
</body>
</html>
